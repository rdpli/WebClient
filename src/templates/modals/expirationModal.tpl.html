<dialog>

    <header class="pm-modalHeader">
        <button
            type="button"
            class="pm-modalClose"
            ng-click="ctrl.cancel()"
            title-translate="Close"
            title-translate-context="Action">
            <icon data-name="close" class="pm-modalClose-icon"></icon>
            <span class="sr-only" translate translate-context="Action">Close</span>
        </button>
        <h1
            id="modalTitle"
            class="pm-modalTitle"
            translate
            translate-context="Title">Not all recipients support message expiration</h1>
    </header>

    <div class="pm-modalContent">

        <div class="pm-modalContentInner">
            <div ng-if="ctrl.recipients.clear.length" class="expiration-group">
                <label
                    class="expiration-label"
                    for="clearToggle"
                    translate
                    translate-context="Warning">Please add a password for the following recipients</label>
                <toggle-expand id="clearToggle" data-model="ctrl.toggles.clear"></toggle-expand>
                <ul class="expiration-list" ng-if="ctrl.toggles.clear.toggle">
                    <li ng-repeat="recipient in ctrl.recipients.clear track by recipient" class="expiration-list-item ellipsis" title="{{ ::recipient }}">
                        <icon data-name="email"></icon> {{ ::recipient }}
                    </li>
                </ul>
            </div>
            <div ng-if="ctrl.recipients.pgp.length" class="expiration-group">
                <label
                    class="expiration-label"
                    for="pgpToggle"
                    translate
                    translate-context="Warning">Please disable PGP Sending for the following recipients</label>
                <toggle-expand id="pgpToggle" data-model="ctrl.toggles.pgp"></toggle-expand>
                <ul class="expiration-list" ng-if="ctrl.toggles.pgp.toggle">
                    <li ng-repeat="recipient in ctrl.recipients.pgp track by recipient" class="expiration-list-item ellipsis" title="{{ ::recipient }}">
                        <icon data-name="email"></icon> {{ ::recipient }}
                    </li>
                </ul>
            </div>
            <p class="block-info-standard-warning">
                <span translate translate-context="Warning">You can also send anyway without expiration to these recipients.</span>
                <a href="https://protonmail.com/support/knowledge-base/encrypt-for-outside-users/" target="_blank"
                   translate translate-context="Link">Learn more</a>.
            </p>
        </div>

        <footer class="pm-modalFooter flex flex-spacebetween">
            <button
                class="pm-button-blueborder"
                type="button"
                ng-click="ctrl.cancel()"
                translate-context="Action"
                translate>Cancel</button>
            <button
                class="pm-button-blue disabled-if-network-activity"
                ng-click="ctrl.confirm()"
                translate-context="Action"
                translate>Send anyway</button>
        </footer>
    </div>
</dialog>
